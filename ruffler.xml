<Module>
<ModulePrefs title="Ruffle"/>
<Content type="html">
<![CDATA[
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruffle</title>
    <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
    <script>
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const swfUrl = urlParams.get('swf');
            if (swfUrl) {
                const game = document.getElementById("game");
                game.src = swfUrl;
                const resizeGame = () => {
                    game.style.width = window.innerWidth + "px";
                    game.style.height = window.innerHeight + "px";
                };
                resizeGame();
                window.addEventListener("resize", resizeGame);
            } else {
                alert("No SWF file specified in the URL parameters.");
            }
        };
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <embed id="game" src="" type="application/x-shockwave-flash">
</body>
</html>
]]>
</Content>
</Module>
